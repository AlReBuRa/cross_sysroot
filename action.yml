inputs:
  distribution:
    description: 'Linux distribution'
    required: true
    default: '1'
  distribution_version:
    description: 'Version of the Linux distribution'
    required: true
  architecture:
    description: 'CPU architecture'
    required: true
  build_root:
    description: 'Directory with the distribution packages should be unpacked'
    required: true
  package_requirements:
    description: 'File containing the list of packages to install'
    required: true

runs:
  using: "composite"
  steps:
    - run: python -m pip install setuptools pysqlite3  # Installing dependencies
      shell: bash
    - run: PYTHONPATH=${{ github.action_path }}:$PYTHONPATH python -m cross_sysroot.cross_sysroot --distribution ${{ inputs.distribution }} --distribution-version ${{ inputs.distribution_version }} --architecture ${{ inputs.architecture }} --build-root ${{ inputs.build_root }} ${{ inputs.package_requirements }}
      shell: bash
